(this.webpackJsonpphone_book=this.webpackJsonpphone_book||[]).push([[0],{25:function(e,n,t){},45:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var c=t(1),a=t.n(c),r=t(19),u=t.n(r),o=(t(25),t(20)),i=t(10),s=t(3),b=t(4),j=t.n(b),d=t(0),l=function(e){var n=e.person,t=e.deletePerson;return Object(d.jsxs)("li",{children:[n.name," ",n.number,Object(d.jsx)("button",{onClick:t,id:n.id,children:"delete"})]},n.name)},h=function(e){var n=e.searchTerm,t=e.submitSearch,c=e.handleSearchTermChange;return Object(d.jsxs)("form",{onSubmit:t,children:[Object(d.jsxs)("div",{children:["filter shown with: ",Object(d.jsx)("input",{value:n,onInput:c})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",children:"Search"})})]})},m=function(e){var n=e.submitInfo,t=e.newName,c=e.handleNameChange,a=e.newNumber,r=e.handleNumberChange;return Object(d.jsxs)("form",{onSubmit:n,children:[Object(d.jsxs)("div",{children:["name: ",Object(d.jsx)("input",{value:t,onInput:c}),Object(d.jsx)("br",{}),"number: ",Object(d.jsx)("input",{value:a,onInput:r})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",children:"add"})})]})},f=(t(45),function(e){var n=e.message,t=e.messageStyle;return null===n?null:Object(d.jsx)("div",{className:"".concat(t," message"),children:n})}),O="/api/persons",p=function(){return j.a.get(O).then((function(e){return e.data}))},v=function(e){return j.a.post(O,e).then((function(e){return e.data}))},x=function(e){return console.log("foo bar baby!"),j.a.delete("".concat(O,"/").concat(e)).then((function(e){return e.data}))},g=function(e,n){return j.a.put("".concat(O,"/").concat(e),n).then((function(e){return e.data}))},S=function(){var e=Object(c.useState)([]),n=Object(s.a)(e,2),t=n[0],a=n[1],r=Object(c.useState)([]),u=Object(s.a)(r,2),b=u[0],j=u[1],O=Object(c.useState)(""),S=Object(s.a)(O,2),w=S[0],N=S[1],k=Object(c.useState)(""),y=Object(s.a)(k,2),C=y[0],I=y[1],T=Object(c.useState)(""),D=Object(s.a)(T,2),P=D[0],E=D[1],J=Object(c.useState)(null),_=Object(s.a)(J,2),A=_[0],B=_[1],F=Object(c.useState)(""),M=Object(s.a)(F,2),q=M[0],z=M[1];Object(c.useEffect)((function(){p().then((function(e){a(e)}))}),[]);var G=function(e){var n=e.target.id,c=t.find((function(e){return e.id===Number(n)}));window.confirm("Delete ".concat(c.name,"?"))&&x(n).catch((function(e){B("The information about '".concat(c.name,"' has already been deleted from server")),z("error")}))};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,{message:A,messageStyle:q}),Object(d.jsx)("h2",{children:"Phonebook"}),Object(d.jsx)(h,{handleSearchTermChange:function(e){N(e.target.value)},submitSearch:function(e){e.preventDefault();var n,c=(n=w,t.filter((function(e){return e.name.includes(n)})));console.log(c);var a=Object(o.a)(c);j(a),N("")},searchTerm:w}),Object(d.jsx)("h3",{children:"Add a New"}),Object(d.jsx)(m,{submitInfo:function(e){var n;e.preventDefault(),n=C,t.map((function(e){return e.name})).includes(n)?function(e,n){var c=t.find((function(n){return n.name===e}));if(console.log(c),window.confirm("".concat(c.name,"?\n      is already added to the phonebook,replace the old number with a new one?"))){var r=Object(i.a)(Object(i.a)({},c),{},{number:n});g(r.id,r).then((function(e){a(t.map((function(n){return Number(n.id)!==Number(r.id)?n:e}))),I(""),E("")}))}}(C,P):function(e,n){var c={name:e,number:n};v(c).then((function(e){a(t.concat(c)),z("success"),B("".concat(c.name," has been added to the phonebook")),setTimeout((function(){B(null)}),5e3),I(""),E("")}))}(C,P)},handleNameChange:function(e){I(e.target.value)},handleNumberChange:function(e){E(e.target.value)},newName:C,newNumber:P}),Object(d.jsx)("h2",{children:"Numbers"}),Object(d.jsx)("ul",{children:b.map((function(e){return Object(d.jsx)(l,{person:e,deletePerson:G})}))})]})};u.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.a82e4c70.chunk.js.map